@inherits LoginBase
@page "/Login"
@if (isRequestProcessed)
{
    <div class="spinner"></div>
}
else if (!CommonConstants.isUserLogedin)
{
<EditForm Model="@user" OnValidSubmit="LoginUser">
    <ObjectGraphDataAnnotationsValidator />
    <ValidationSummary />
    <h3>Login</h3>
    <div class="form-group row">
        <label for="userName" class="col-sm-2 col-form-label">
            Username
        </label>
        <div class="col-sm-10">
            <InputText id="userName" class="form-control" placeholder="Username"
            @bind-Value="user.UserName" />
            <ValidationMessage For="@(()=>user.UserName)"></ValidationMessage>
        </div>
    </div>
    <div class="form-group row">
        <label for="password" class="col-sm-2 col-form-label">
            Password
        </label>
        <div class="col-sm-10">
            <InputText type="password" id="password" class="form-control" placeholder="Password"
            @bind-Value="user.Password" />
            <ValidationMessage For="@(()=>user.Password)"></ValidationMessage>
        </div>
    </div>
    <div class="form-group row m-3">
        <div class="col-sm-1">
            <button class="btn btn-primary" type="submit">Login</button>
        </div>
    </div>
        @if (!string.IsNullOrEmpty(errorMessage))
        {
            <div>
                <p>@errorMessage</p>
            </div>
        }
</EditForm>
}
